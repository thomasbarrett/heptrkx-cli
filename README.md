# Triplet Computation
Define a *sparse n-tensor* as two-tuple (indices, values) of parallel arrays where *indices* is an array of n-tuples specifying the location of an element and where *values* is an array of element values.

Define a *graph* as a four-tuple (nodes, edges, senders, receivers) where *nodes* is an array of size N containing node features, and *edges*, *senders*, *receivers* are parallel arrays of size E containing edge features, sending nodes indices, and recieving node indices respectively.

## Truth Coefficient Matrix
The truth coefficient matrix TCM is an N x N sparse 2-tensor where each element a<sub>i,j</sub> in TCM equals the truth value (t) for the edge connecting the ith and jth node (N_i and N_j). If an edge does not exist between nodes<sub>i</sub> and nodes<sub>j</sub> then the element is zero. Note that each column of the TCM represents the outgoing edges for nodes<sub>i</sub> and that each row of TCM represents the incoming edges for nodes<sub>j</sub>. This matrix can be constructed by the following operations.

1. Construct index vector from senders and recievers list (u,v)
2. Construct value vector from truth vector

## Truth Coefficient Tensor
The truth coefficient tensor (TCT) is a sparse |N| x |N| x |N| tensor where each element T_{i,j,k} in TCT contains the product of the truth value from the ith incoming edge and the jth outgoing edge of node k. This tensor can be constructed as follows.

1. Expand TCM to a (3,3,3) tensor using `tensor1 = np.repeat(TCM[None],3,0)`
2. Transpose TCT two different ways using `np.transpose(tensor1, (1,0,2))` and `p.transpose(tensor1, (2,1,0))`
3. Compute elementwise multiplication of two tensors `np.multiply(a,b)`.

## Triplet Parameter Tensor
The Triplet Parameter Tensor (TPT) is a sparse |N| x |N| x |N| tensor where each element T_{i,j,k} in the TPT contains the helix parameter for the triple (N_i, N_k, N_j). This can be constructed directly from triplet parameter information generated by preprocessor. 

## Node Parameters
Retrieve Node Parameters from TPT by calculating non-zero mean of each matrix in TPT.




